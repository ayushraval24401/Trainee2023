<!DOCTYPE html>
<html>
    <head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet"> -->
<title>TaSK_2</title>
<style>
* {
  box-sizing: border-box;
}

body {
  background-color: #f1f1f1;
}

#regForm {
  background-color: #cfcece;
  margin: 100px auto;
  /* font-family: Raleway; */
  padding: 40px;
  width: 70%;
  min-width: 300px;
}

h1 {
  text-align: center;  
}

input {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  /* font-family: Raleway; */
  border: 1px solid #aaaaaa;
}
select{
  padding: 10px;
  width: 100%;
  font-size: 17px;
  /* font-family: Raleway; */
  border: 1px solid #aaaaaa;

}

/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}

/* Hide all steps by default: */
.tab {
  display: none;
}

button {
  background-color: #04AA6D;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  /* font-family: Raleway; */
  cursor: pointer;
}

button:hover {
  opacity: 0.8;
}
small{
    color: red;
}

#prevBtn {
  background-color: #e68a3f;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbbbbb;
  border: none;  
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: #04AA6D;
}
</style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>   
</head>
<body>

<form id="regForm" action="/action_page.php">
  <h1>REGISTRATION</h1>
  
  <!-- One "tab" for each step in the form: -->
  <div class="tab">
    <h2>PERSONAL DETAILS</h2>
    <p><input placeholder="Enter Your First Name" oninput="this.className = ''" name="fname" id="fname" maxlength="10"></p>
    <small id="fnamefails"></small>
    <p><input placeholder="Enter Your Last Name" oninput="this.className = ''" name="lname" id="lname" maxlength="10"></p>
    <small id="lnamefails"></small>
    <p><Select name="gender" id="gender" required>
        <option value="male">Male</option>
        <option value="female">Female</option>
    </Select></p>
    <p><input placeholder="Enter ZIP Code" type="text" oninput="this.className = ''" name="zip"  id="zip" ></p> 
    <!-- onchange="zipcheck()" -->
    <small id="zips"></small>
  </div>
  <div class="tab">
    <h2>PROFILE INFORMATION</h2>
    <p><input placeholder="E-mail..." type="email" oninput="this.className = ''" name="email" id="email"></p>
    <small id="emailfails"></small>
    <p><input placeholder="UserName..." oninput="this.className = ''" name="uname" id="uname" maxlength="10"></p>
    <p><input placeholder="Password..." type="password" oninput="this.className = ''" name="pass" id="pass"></p>
    <p><input placeholder="Confirm Password..." type="password" oninput="this.className = ''" name="conpass" id="conpass"></p>
    <small id="passfail"></small>
  </div>
  <div class="tab">
    <h2>BANK DETAILS</h2>
    
    <p> 
        <select id="bank">
            <option selected="" value="0" disabled >Choose Bank</option>
            <option value="sbi">SBI</option>
            <option value="bob">BOB</option>
            <option value="hdfc">HDFC</option>
        </select>
    </p>
    <small id="bankfails"></small>
    <p><Select id="branch">
        <option selected="" value="0" disabled>Choose Branch</option>
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
    </Select></p>
    <small id="branchfails"></small>
    <p><Select id="account">    
        <option value="0" selected="" disabled>Choose Account</option>
        <option value="saving">Saving</option>
        <option value="current">Current</option>
    </Select></p>
    <small id="accountfails"></small>
    <p><input placeholder="Enter Your Account Number" oninput="this.className = ''" name="Anumber" id="Anumber" maxlength="10"></p>
    <small id="anumfails"></small>
  </div>
  <div class="tab">
    <p><Select id="card">    
        <option value="0" selected="" disabled>Choose Card</option>
        <option value="master">Master Card</option>
        <option value="rupee">rupee Card</option>
    </Select></p> 
    <small id="cardfails"></small>  
    <p><input placeholder="Enter  Holder Name" oninput="this.className = ''" name="hname" id="hname" maxlength="10"></p>
    <small id="hnamefails"></small>
    <p><input placeholder="Enter Card Number" oninput="this.className = ''" name="cnumber"  id="cnumber"></p>
    <small id="Cardcheck"></small>
    <p><input placeholder="CVV" type="password" oninput="this.className = ''" name="cvv" id="cvv" ></p>  
    <small id="cvvfails"></small>
    <p><input placeholder="Enter Expirydate" type="month" oninput="this.className = ''" name="edate" id="edate" ></p> 
    <small id="edatefails"></small> 
</div>
<div class="tab">
    
        <h2 class="text-center">USER DETAILS</h2>   
        <div class="row">
            <div class="col">
                First name
            </div>
            <div class="col">
                <p id="nameF"></p>
            </div>
        </div>
         <div class="row">
            <div class="col">
                Last name
            </div>
            <div class="col">
                <p id="nameL"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Gender
            </div>
            <div class="col">
                <p id="gender1"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Zip code
            </div>
            <div class="col">
                <p id="codeZ"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Email
            </div>
            <div class="col">
                <p id="Email"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Username
            </div>
            <div class="col">
                <p id="User"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Password
            </div>
            <div class="col">
                <p id="Pass"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Confirm Password
            </div>
            <div class="col">
                <p id="CPass"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Choose bank
            </div>
            <div class="col">
                <p id="Cbank1"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Choose branch
            </div>
            <div class="col">
                <p id="Cbranch"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Choose Account
            </div>
            <div class="col">
                <p id="CAct"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Account Number
            </div>
            <div class="col">
                <p id="Act"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                cards
            </div>
            <div class="col">
                <p id="Mcard"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Holder name
            </div>
            <div class="col">
                <p id="Hname"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                card number
            </div>
            <div class="col">
                <p id="Cnum"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                CVV
            </div>
            <div class="col">
                <p id="Cvv"></p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                Date
            </div>
            <div class="col">
                <p id="Date"></p>
            </div>
        </div>
    
</div>
  <div style="overflow:auto;">
    <div style="float:right;">
      <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
      <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
    </div>
  </div>
  <!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
</form>

<script>
var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab



function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }

  
  if (currentTab == 4) {
                document.getElementById("nameF").innerHTML = document.getElementById("fname").value;
                document.getElementById("nameL").innerHTML = document.getElementById("lname").value;
                document.getElementById("gender1").innerHTML = document.getElementById("gender").value;
                document.getElementById("codeZ").innerHTML = document.getElementById("zip").value;
                document.getElementById("Email").innerHTML = document.getElementById("email").value;
                document.getElementById("User").innerHTML = document.getElementById("uname").value;
                document.getElementById("Pass").innerHTML = document.getElementById("pass").value;
                document.getElementById("CPass").innerHTML = document.getElementById("conpass").value;
                document.getElementById("Cbank1").innerHTML = document.getElementById("bank").value;
                document.getElementById("Cbranch").innerHTML = document.getElementById("branch").value;
                document.getElementById("CAct").innerHTML = document.getElementById("account").value;
                document.getElementById("Act").innerHTML = document.getElementById("Anumber").value;
                document.getElementById("Mcard").innerHTML = document.getElementById("card").value;
                document.getElementById("Hname").innerHTML = document.getElementById("hname").value;
                document.getElementById("Cnum").innerHTML = document.getElementById("cnumber").value;
                document.getElementById("Cvv").innerHTML = document.getElementById("cvv").value;
                document.getElementById("Date").innerHTML = document.getElementById("edate").value;
                console.log("in tab 4 ")

                
            }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  
  
  if (n == 1 && !validateForm())
  { 
    // console.log("in next valid")
    // console.log(Boolean(validateForm))
    // console.log(Boolean(zipcheck))
    // console.log("yupp")
    return false;
  }
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
      if(currentTab== 0){
        valid=fnamecheck()
        if(valid==false)
        return valid
        valid=lnamecheck()
        if(valid==false)
        return valid
        valid=zipcheck();
        if(valid==false)
        return valid
      }
  
    if(currentTab== 1){
    //     console.log("in curT 1")
    // console.log(currentTab)
        valid=checkemail()
        if(valid==false)
        return valid
        valid =checkpass();
        if(valid==false)
        return valid
    }
    if(currentTab== 2){
        console.log("in curT 1")
    console.log(currentTab)
        
        valid=Checkbank();
        if(valid==false)
        return valid
        valid=checkbranch();
        if(valid==false)
        return valid
        valid=checkaccount()
        if(valid==false)
        return valid
        valid =anumcheck();
        if(valid==false)
        return valid
            
    }
    if(currentTab== 3){
        valid=checkcard()
        if(valid==false)
        return valid
        valid=checkhname()
        if(valid==false)
        return valid
        valid=Cardnumbercheck()
        if(valid==false)
        return valid
        valid=checkcvv()
        if(valid==false)
        return valid
        valid=checkedate()
        if(valid==false)
        return valid

    }
    
  
  console.log("ttt")
  console.log(valid)
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
    //   if(i==0){
    //     console.log("in i=1")
        
    //     valid=fnamecheck()
    //     valid=lnamecheck()
    //     valid=zipcheck();
    //     console.log("in i=11")
    //     console.log(valid)
    //   }
    //   if(i==1){
    //     console.log("in i=2")
    //     valid = checkpass()
    //     console.log(valid)
    //   }
      
      // and set the current valid status to false
      valid = false;
      
      console.log("validateform")
      console.log(valid)
    }
  }
  
  
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}

function zipcheck(){
    var valid = true;
    console.log("zip");
    // var numbers = /^[1-9]{1}[0-9]{5}$/;
   const zipcode= document.getElementById("zip").value;
   console.log("zip1");
    // console.log(zip1.length);
    console.log("hello")
    console.log(zipcode)
    // if(zip1.match(numbers))
    //     {
    //         document.getElementById("zips").innerHTML="";
    //     }
    //     else{
    //         document.getElementById("zips").innerHTML="Enter 6 Digits";
    //         alert("hello");
    //         valid=false;
    //     }   

    if(isNaN(zipcode))
    {
        // alert("not a number");
        document.getElementById("zips").innerHTML="Enter 6 Digits"; 
        valid = false;
    }else{
        if(zipcode.length<6 || zipcode.length>6){
            document.getElementById("zips").innerHTML="Enter 6 Digits"; 
            valid = false;
    }
        if(zipcode.length==6)
        {
            document.getElementById("zips").innerHTML="";
        }
    }
    
    console.log("pratik")
    console.log(valid)
    return valid;
}
function Cardnumbercheck(){
     var valid=true
    var numbers = /^[1-9]{1}[0-9]{11}$/;
   const CardNumber= document.getElementById("cnumber").value;
   if(CardNumber.match(numbers))
    {
        document.getElementById("Cardcheck").innerHTML="";
    }
    else{
        document.getElementById("Cardcheck").innerHTML="Enter 12 Digits";
        // alert("hello");
        valid=false
    }
    return valid
}

function checkpass(){

    
    var decimal=  /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
    var valid=true;
    console.log("password in    2")
    const password =document.getElementById("pass").value;
    // if(password.length<8 || password.length>15){
    //     document.getElementById("passfail").innerHTML="Enter Password between 8 to 15 digit"
    //     valid=false;
    // }
    // else{
    //     document.getElementById("passfail").innerHTML="";
    //     var conpassword = document.getElementById("conpass").value;
    //     if(password!=conpassword){
    //     alert("reenter pass");
    //     document.getElementById("passfail").innerHTML="Password misMatch"
    //     valid=false;
    //      }
    //      else{
    //         document.getElementById("passfail").innerHTML=""
    //      }
    // }
    

    // return valid;
    if(password.match(decimal))
    {
        var conpassword = document.getElementById("conpass").value;
        if(password!=conpassword){
            // alert("reenter pass");
            document.getElementById("passfail").innerHTML="Password misMatch"
            valid=false;
            }
            else{
                document.getElementById("passfail").innerHTML=""
        }
    }
    else{
        document.getElementById("passfail").innerHTML="Enter proper password";
        valid=false

    }
    return valid

}
function fnamecheck(){
    // debugger
    var valid=true;
    var string=/^[A-Za-z]+$/
    let fname1= document.getElementById("fname").value;
    if(fname1.match(string))
    {
        document.getElementById("fnamefails").innerHTML="";
    }
    else{
        document.getElementById("fnamefails").innerHTML="Enter charactrs";
        // alert("hello");
        valid=false;
    }
    return valid;   
    
}
function lnamecheck(){
    var valid=true;
    var string=/^[A-Za-z]+$/
    let lname1= document.getElementById("lname").value;
    if(lname1.match(string))
    {
        document.getElementById("lnamefails").innerHTML="";
    }
    else{
        document.getElementById("lnamefails").innerHTML="Enter charactrs";
        // alert("hello");
        valid=false;
    }
    return valid;   
    
}
function anumcheck(){
    var valid = true;
    
   const anum= document.getElementById("Anumber").value;
 
    if(isNaN(anum))
    {
        // alert("not a number");
        document.getElementById("zips").innerHTML="Enter 10 Digits"; 
        valid = false;
    }else{
        if(anum.length<10 || anum.length>10){
            document.getElementById("anumfails").innerHTML="Enter 10 Digits"; 
            valid = false;
    }
        if(anum.length==10)
        {
            document.getElementById("anumfails").innerHTML="";
        }
    }
    
    // console.log("pratik")
    // console.log(valid)
    return valid;

}
function Checkbank(){
    // debugger
    // var valid=true;
    // console.log(document.getElementById("bank").value);
    // if(document.getElementById("bank").value==0){
    //     // document.getElementById("bankfails").innerHTML="Enter 10 Digits"; 
    //     valid=false;
    // }
    // return valid;
    
    var valid=true;
    selectElement = document.querySelector('#bank');
    output=selectElement.value;
    // alert(output)
    if(output==0){
        document.getElementById("bankfails").innerHTML="Select bank"
        valid=false;
    }
        else{
            document.getElementById("bankfails").innerHTML=""
            
        }
        return valid
    
}

function checkbranch(){
    
    var valid=true;
    selectElement = document.querySelector('#branch');
    output1=selectElement.value;
    // alert(output1)
    if(output1==0){
        document.getElementById("branchfails").innerHTML="Select branch"
        valid=false;
    }
        else{
            document.getElementById("branchfails").innerHTML=""
            
        }
        return valid
}
function checkaccount(){
    // debugger
    // var valid=true;
    // if(document.getElementById("account").value==0){
        
    //     valid=false;
    // }
    // return valid;

    var valid=true;
    selectElement = document.querySelector('#account');
    output2=selectElement.value;
    // alert(output2)
    if(output2==0){
        document.getElementById("accountfails").innerHTML="Select Account type"
        valid=false;
    }
        else{
            document.getElementById("accountfails").innerHTML=""
            
        }
        return valid
}

function checkcard(){
    var valid=true;
    selectElement = document.querySelector('#card');
    output1=selectElement.value;
    // alert(output1)
    if(output1==0){
        document.getElementById("cardfails").innerHTML="Select card type"
        valid=false;
    }
        else{
            document.getElementById("cardfails").innerHTML=""
            
        }
        return valid

}

function checkhname(){
    var valid=true;
    var string=/^[A-Za-z]+$/
    let hname1= document.getElementById("hname").value;
    if(hname1.match(string))
    {
        document.getElementById("hnamefails").innerHTML="";
    }
    else{
        document.getElementById("hnamefails").innerHTML="Enter charactrs";
        // alert("hello");
        valid=false;
    }
    return valid;  
}

function checkcvv(){
    
    var valid = true;
   const cvv1= document.getElementById("cvv").value;  

    if(isNaN(cvv1))
    {
        // alert("not a number");
        document.getElementById("cvvfails").innerHTML="Enter 4 Digits"; 
        valid = false;
    }else{
        if(cvv1.length<4 || cvv1.length>4){
            document.getElementById("cvvfails").innerHTML="Enter 4 Digits"; 
            valid = false;
    }
        if(cvv1.length==4)
        {
            document.getElementById("cvvfails").innerHTML="";
        }
    }
    
    console.log("pratik")
    console.log(valid)
    return valid;
}

function checkedate(){
    
    var valid=true
   var edate1=document.getElementById("edate").value;
    // alert(edate1);
    var m=edate1.split('-');
    // alert(m[0])
    // alert(m[1])

    const currentdate=new Date();
     let month=currentdate.getMonth();
     let year=currentdate.getFullYear();
    // alert(month)
    // alert(year)
    if(m[0]>year){
        // alert("great")
        document.getElementById("edatefails").innerHTML=""
        // valid=false
    }
    else if(m[0]==year){
        if(m[1]>month){
            // alert("great 555")
            document.getElementById("edatefails").innerHTML=""
        }
        else{
            
            // alert("card is expire")
            valid=false
            document.getElementById("edatefails").innerHTML="card validity is over"
        }

    }
    else{
        // alert("card is expire 44")
        valid=false
        document.getElementById("edatefails").innerHTML="card validity is over"
    }
    return valid
}


function checkemail()
{
    var valid=true;
    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    let mail=document.getElementById("email").value;
    if(mail.match(mailformat)){
        document.getElementById("emailfails").innerHTML=""
    }
    else{
        document.getElementById("emailfails").innerHTML="enter proper email"
        valid=false
    }

    return valid
}
</script>

</body>
</html>
